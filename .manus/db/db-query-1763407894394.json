{
  "query": "DROP TABLE IF EXISTS `clients_new`;\nCREATE TABLE `clients_new` (\n  `id` varchar(50) NOT NULL PRIMARY KEY,\n  `firstName` varchar(100) NOT NULL,\n  `lastName` varchar(100) NOT NULL,\n  `email` varchar(320),\n  `phone` varchar(20),\n  `alternatePhone` varchar(20),\n  `propertyAddress` text,\n  `city` varchar(100),\n  `state` varchar(50),\n  `zipCode` varchar(10),\n  `propertyType` varchar(50),\n  `insuranceCompany` varchar(200),\n  `policyNumber` varchar(100),\n  `claimNumber` varchar(100),\n  `deductible` int,\n  `coverageAmount` int,\n  `claimStatus` enum('NO_SOMETIDA','EN_PROCESO','APROVADA','RECHAZADA','CERRADA') DEFAULT 'NO_SOMETIDA',\n  `suplementado` enum('si','no') DEFAULT 'no',\n  `primerCheque` enum('OBTENIDO','PENDIENTE') DEFAULT 'PENDIENTE',\n  `dateOfLoss` timestamp NULL,\n  `claimSubmittedDate` timestamp NULL,\n  `scheduledVisit` timestamp NULL,\n  `adjustmentDate` timestamp NULL,\n  `lastContactDate` timestamp NULL,\n  `nextContactDate` timestamp NULL,\n  `salesPerson` varchar(100),\n  `assignedAdjuster` varchar(100),\n  `policyDocumentUrl` text,\n  `contractDocumentUrl` text,\n  `photosUrl` text,\n  `driveFolderId` varchar(200),\n  `damageType` text,\n  `damageDescription` text,\n  `estimatedLoss` int,\n  `insuranceEstimate` int,\n  `firstCheckAmount` int,\n  `actualPayout` int,\n  `notes` text,\n  `internalNotes` text,\n  `constructionStatus` varchar(50),\n  `createdBy` int,\n  `updatedBy` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (`createdBy`) REFERENCES `users`(`id`),\n  FOREIGN KEY (`updatedBy`) REFERENCES `users`(`id`)\n);\nDROP TABLE `clients`;\nRENAME TABLE `clients_new` TO `clients`;\nALTER TABLE `activityLogs` MODIFY COLUMN `clientId` varchar(50);\nALTER TABLE `constructionProjects` MODIFY COLUMN `clientId` varchar(50);\nALTER TABLE `documents` MODIFY COLUMN `clientId` varchar(50);\nALTER TABLE `events` MODIFY COLUMN `clientId` varchar(50);\nALTER TABLE `tasks` MODIFY COLUMN `clientId` varchar(50);\nALTER TABLE `activityLogs` ADD CONSTRAINT `activityLogs_clientId_clients_id_fk` FOREIGN KEY (`clientId`) REFERENCES `clients`(`id`) ON DELETE CASCADE;\nALTER TABLE `constructionProjects` ADD CONSTRAINT `constructionProjects_clientId_clients_id_fk` FOREIGN KEY (`clientId`) REFERENCES `clients`(`id`) ON DELETE SET NULL;\nALTER TABLE `documents` ADD CONSTRAINT `documents_clientId_clients_id_fk` FOREIGN KEY (`clientId`) REFERENCES `clients`(`id`) ON DELETE CASCADE;\nALTER TABLE `documents` ADD CONSTRAINT `documents_constructionProjectId_constructionProjects_id_fk` FOREIGN KEY (`constructionProjectId`) REFERENCES `constructionProjects`(`id`) ON DELETE CASCADE;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user u6ZhkhQtUWuL4aP.root --database Ps2ZHSn7bzKusjaEriYWKB --execute DROP TABLE IF EXISTS `clients_new`;\nCREATE TABLE `clients_new` (\n  `id` varchar(50) NOT NULL PRIMARY KEY,\n  `firstName` varchar(100) NOT NULL,\n  `lastName` varchar(100) NOT NULL,\n  `email` varchar(320),\n  `phone` varchar(20),\n  `alternatePhone` varchar(20),\n  `propertyAddress` text,\n  `city` varchar(100),\n  `state` varchar(50),\n  `zipCode` varchar(10),\n  `propertyType` varchar(50),\n  `insuranceCompany` varchar(200),\n  `policyNumber` varchar(100),\n  `claimNumber` varchar(100),\n  `deductible` int,\n  `coverageAmount` int,\n  `claimStatus` enum('NO_SOMETIDA','EN_PROCESO','APROVADA','RECHAZADA','CERRADA') DEFAULT 'NO_SOMETIDA',\n  `suplementado` enum('si','no') DEFAULT 'no',\n  `primerCheque` enum('OBTENIDO','PENDIENTE') DEFAULT 'PENDIENTE',\n  `dateOfLoss` timestamp NULL,\n  `claimSubmittedDate` timestamp NULL,\n  `scheduledVisit` timestamp NULL,\n  `adjustmentDate` timestamp NULL,\n  `lastContactDate` timestamp NULL,\n  `nextContactDate` timestamp NULL,\n  `salesPerson` varchar(100),\n  `assignedAdjuster` varchar(100),\n  `policyDocumentUrl` text,\n  `contractDocumentUrl` text,\n  `photosUrl` text,\n  `driveFolderId` varchar(200),\n  `damageType` text,\n  `damageDescription` text,\n  `estimatedLoss` int,\n  `insuranceEstimate` int,\n  `firstCheckAmount` int,\n  `actualPayout` int,\n  `notes` text,\n  `internalNotes` text,\n  `constructionStatus` varchar(50),\n  `createdBy` int,\n  `updatedBy` int,\n  `createdAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP,\n  `updatedAt` timestamp NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,\n  FOREIGN KEY (`createdBy`) REFERENCES `users`(`id`),\n  FOREIGN KEY (`updatedBy`) REFERENCES `users`(`id`)\n);\nDROP TABLE `clients`;\nRENAME TABLE `clients_new` TO `clients`;\nALTER TABLE `activityLogs` MODIFY COLUMN `clientId` varchar(50);\nALTER TABLE `constructionProjects` MODIFY COLUMN `clientId` varchar(50);\nALTER TABLE `documents` MODIFY COLUMN `clientId` varchar(50);\nALTER TABLE `events` MODIFY COLUMN `clientId` varchar(50);\nALTER TABLE `tasks` MODIFY COLUMN `clientId` varchar(50);\nALTER TABLE `activityLogs` ADD CONSTRAINT `activityLogs_clientId_clients_id_fk` FOREIGN KEY (`clientId`) REFERENCES `clients`(`id`) ON DELETE CASCADE;\nALTER TABLE `constructionProjects` ADD CONSTRAINT `constructionProjects_clientId_clients_id_fk` FOREIGN KEY (`clientId`) REFERENCES `clients`(`id`) ON DELETE SET NULL;\nALTER TABLE `documents` ADD CONSTRAINT `documents_clientId_clients_id_fk` FOREIGN KEY (`clientId`) REFERENCES `clients`(`id`) ON DELETE CASCADE;\nALTER TABLE `documents` ADD CONSTRAINT `documents_constructionProjectId_constructionProjects_id_fk` FOREIGN KEY (`constructionProjectId`) REFERENCES `constructionProjects`(`id`) ON DELETE CASCADE;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 4843
}